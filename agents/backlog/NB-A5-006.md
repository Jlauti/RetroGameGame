# NB-A5-006 - Music Volume Runtime Binding for Settings

## Metadata

- Ticket ID: NB-A5-006
- Owner Agent: agent5
- Status: READY_FOR_QA
- Execution Lane: LOCAL
- Critical Path: YES
- Jules Eligible: NO
- Fallback Owner: agent5
- Retry Count: 0
- Session Health: HEALTHY
- Work Category: AUDIO_INTEGRATION
- Start Date: 2026-02-25
- Completed Date: 2026-02-25

## Objective

Wire Settings panel music volume controls into live runtime audio behavior and persistence, with stable fallback behavior when no audio device/sink is present.

## Allowed Paths

- src/ui/music.rs
- src/ui/
- src/core/
- specs/nebula_bouncer.md
- docs/architecture/DESIGN.md
- agents/deliverables/agent5/
- agents/reports/agent5/
- agents/backlog/NB-A5-006.md

## Out of Scope

- No new gameplay mechanics.
- No terrain/procgen changes.
- No art asset creation.

## Acceptance Commands

- cargo build --bin retro-game-game
- cargo test --lib nebula_bouncer
- cargo fmt -- --check

## Dependencies

- NB-A1-005 settings contract completed.
- NB-A2-007 settings runtime panel scaffold completed.

## Definition of Done

- Music volume setting updates hub music sink volume in real time.
- Music volume setting persists across restart per settings contract.
- Missing sink/audio device scenarios remain warning-only and non-crashing.
- Volume domain and conversion policy are documented (UI range vs sink linear volume).
- Deliverable written to `agents/deliverables/agent5/NB-A5-006_music_settings_integration.md`.
- Task report written to `agents/reports/agent5/NB-A5-006_task_report.md`.
