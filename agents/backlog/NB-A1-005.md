# NB-A1-005 - Global Settings UX + Config Contract

## Metadata

- Ticket ID: NB-A1-005
- Owner Agent: agent1
- Status: TODO
- Execution Lane: LOCAL
- Critical Path: YES
- Jules Eligible: NO
- Fallback Owner: agent1
- Retry Count: 0
- Session Health: HEALTHY
- Work Category: GAMEPLAY_SPEC
- Start Date: 2026-02-25

## Objective

Define the canonical UX and data contract for a global Settings system that works from both hub and in-game flows.

Required user outcomes:
- Settings entry is available from the main carousel/hub menu flow.
- Pressing `Esc` in-game opens settings.
- Settings includes resolution selection, fullscreen mode selection (fullscreen and windowed fullscreen), music volume, and quit action behavior.

## Allowed Paths

- specs/nebula_bouncer.md
- docs/architecture/DESIGN.md
- agents/deliverables/agent1/
- agents/reports/agent1/
- agents/backlog/NB-A1-005.md

## Out of Scope

- No runtime code changes under `src/`.
- No asset creation.
- No QA signoff work.

## Acceptance Commands

- cargo check --bin retro-game-game
- cargo fmt -- --check

## Dependencies

- None.

## Definition of Done

- Contract is written at `agents/deliverables/agent1/NB-A1-005_settings_contract.md` with:
  - state flow for opening/closing settings from hub and from active gameplay
  - required keybind behavior for `Esc` and explicit back/apply/cancel semantics
  - settings schema (field names, types, allowed ranges, defaults)
  - resolution policy (windowed resolutions and fallback behavior)
  - display mode policy (windowed, borderless/windowed-fullscreen, fullscreen)
  - quit confirmation policy and expected UX copy
  - persistence policy (path, load/save timing, error fallback behavior)
- `specs/nebula_bouncer.md` updated with settings feature contract summary.
- `docs/architecture/DESIGN.md` updated with settings system architecture notes.
- Task report written to `agents/reports/agent1/NB-A1-005_task_report.md`.
